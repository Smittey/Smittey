<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A blog by Andy Smity, a Software Developer based in the UK">
    <meta name="author" content="Andy Smith">
	<meta name="keywords" content="Andy,Smith,Blog,Writing,Posts,Software,Developer,Engineer,Programmer,Coder,designer">
	
	<meta property="og:url"                content="http://smittey.co.uk//anybody-on//">              
	<meta property="og:type"               content="article">
	<meta property="og:title"              content="Anybody On?">
	<meta property="og:description"        content="A Raspberry Pi project to let you know if your media is currently being viewed">
	<meta property="og:image"              content="http://smittey.co.uk/img/post-raspberrypi.jpg">
	<meta property="fb:app_id"             content="1748027778767786">


	<title>  Anybody On? |  Blog </title>
	
    <link href="/css//bootstrap.min.css" rel="stylesheet">

    <link href="/css//style.css" rel="stylesheet">
	
	<!-- jQuery -->
    <script src="/js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/js/bootstrap.min.js"></script>

	<!-- Theme JavaScript -->
    <script src="/js/blog.js"></script>
	
	<!-- Scrolling Nav JavaScript -->
	<script src="/js/jquery.easing.min.js"></script>

	<!-- Misc JavaScript -->
	<script type="text/javascript" src="/js/main.js"></script>

    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

	<script>
	
	var devCookie = "my websites cookie=123";
	if (document.cookie.indexOf(devCookie) === -1) 
	{
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-74354041-2', 'auto');
		ga('send', 'pageview');
	}



	</script>
	
</head>
<body>
 
<!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Smittey.co.uk</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="http://www.andysmith.me">Personal Website</a>
                    </li>
					
					<li>
						<a href="/about/">About</a>
					</li>
					
					<li>
						<a href="/contact/">Contact</a>
					</li>
					
					<li>
						<a href="/feed.xml"></a>
					</li>
					
					<li>
						<a href="/"></a>
					</li>
					
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>


 
    <script>
    $(window).bind("load", function() {
       $.getScript('/js/social.js', function() {});
    });
</script>

<div id="fb-root"></div>

<!-- Place this tag in your head or just before your close body tag. -->
<script src="https://apis.google.com/js/platform.js" async defer></script>


<!-- Page Header -->
<!-- Set your background image for this header on the line below. -->
<header class="intro-header" style="background-image: url('/img//post-raspberrypi.jpg')">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
				<div class="post-heading">
					<h1>Anybody On?</h1>
					<h2 class="subheading">A Raspberry Pi project to let you know if your media is currently being viewed</h2>
					<span class="meta">May 7th, 2016</span>
				</div>
			</div>
		</div>
	</div>
</header>
	
<div class="container">
	<div class="row">
		<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 page">
			<p>Ever been curious if anybody is currently looking at your website, watching your YouTube video, or on using your mobile app RIGHT NOW, but can’t be bothered to open up and sign into Google Analytics?</p>

<p>I’ve recently launched this blog, my <a href="http://www.andysmith.me" target="_blank">portfolio website</a> and <a href="https://github.com/Smittey?tab=repositories" target="_blank">a few other projects</a>, and like most that start up they are still gaining traction. I created this project because something about real-time data fascinates me. I love knowing that “somebody is reading this page <strong>right now</strong>. Somebody is looking at something that I’ve made <strong>right now</strong>”.</p>

<video width="99%" height="540" autoplay="" loop="" muted="">
        <source src="http://i.imgur.com/AEuK9TF.webm" type="video/webm" />
    </video>

<p>This post will go into how I accomplished this with a Raspberry Pi, a breadboard and an LED. You can find the code necessary in <a href="https://github.com/Smittey/RaspberryPi-Projects/tree/master/Analytics" target="_blank">my Github repository</a>.</p>

<h4 id="hardware-used">Hardware used</h4>
<ul>
  <li>Raspberry Pi</li>
  <li>Adafruit Cobbler and female-female jumper cable</li>
  <li>Breadboard</li>
  <li>(1) 100 ohm</li>
  <li>(1) LED</li>
  <li>(1) Male-male jumper wire</li>
  <li>Network connection from the Pi</li>
</ul>

<h4 id="software-and-services-used">Software and Services used</h4>
<ul>
  <li>Rasbian</li>
  <li>IDLE Python 2.7 IDE</li>
  <li>Google Analytics account</li>
  <li>A project implementing Google Analytics</li>
</ul>

<hr />

<h3 id="steps">Steps</h3>

<p>Note: These instructions assume that you have a Google Developer account and a Google Analytics account already integrated with your website or other media</p>

<h4 id="software">Software</h4>

<ol>
  <li>
    <p>Create a <a href="https://console.developers.google.com/iam-admin/projects" target="_blank">new Google Developer API project</a></p>

    <ol>
      <li>
        <p>Create a Service Account under the new project that you’ve just created making sure to tick <em>‘Furnish a new private key’</em>. I chose <em>‘P12’</em> for backwards compatibility purposes</p>
      </li>
      <li>
        <p>The P12 certificate should have downloaded</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Place the P12 certificate and scripts in this repository into a folder on your Pi</p>
  </li>
  <li>
    <p>Change the details in the trianglular-brackets in the config file to match our own</p>
  </li>
  <li>
    <p><strong>Run the script</strong>. If all has went to plan, at this point it should continuously print out the real-time visitor count/how many people are currently interacting with your media</p>

    <p><img src="http://i.imgur.com/MQZ5dwL.png" alt="sample printout" title="sample printout" /></p>
  </li>
</ol>

<h4 id="hardware">Hardware</h4>

<ol>
  <li>Use the diagram below as a reference to set up the hardware aspect of this project.
    <ol>
      <li>Connect your 100 ohm resistor from cobbler row #18 to a row outside the scope of the cobbler, e.g. (16, I) on the breadboard</li>
      <li>Take the LED and connect the positive (longer) leg to the same row of the resistor, e.g. (16, J) on the breadboard. Take the negative (shorter) leg and connect it to the outer negative rail</li>
      <li>
        <p>Finally, take the male-male jumper wire and connect the same outer negative rail to a cobbler row, e.g. (3, J)</p>

        <p><img src="http://i.imgur.com/cxjInqe.png" alt="wire diagram" title="wire diagram" /></p>
      </li>
    </ol>
  </li>
  <li>Re-run <code class="highlighter-rouge">AnybodyOn.py</code> and visit your website/YouTube video/app after a few seconds of the program producing <em>‘Current active users = 0’</em>. If all has gone to plan, the light should turn green a few seconds after visiting your media.</li>
</ol>

<p><a href="https://github.com/Smittey/RaspberryPi-Projects/issues" target="_blank">Any issues, please report them here!</a></p>

			
			<div id="signature-container">
				<span id="signature-avatar">				
					<img class="avatar img-circle" style="width:100%; width:auto;" src="http://www.gravatar.com/avatar/2336ccd6a816e8582b8e9770f3eacadd?s=100"/>
				</span>
				<span id="signature-text">
					<div class="text">
						<p>By <a href="http://www.andysmith.me">Smittey</a><br/>Posted on May 7th, 2016</p>
						<br/>
						<a href='https://ko-fi.com/A14212M' target='_blank'><img height='32' style='border:0px;height:32px; margin:5px 0 5px 0' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=a' border='0' alt='Buy Me a Coffee' /></a> 
						<br />
						<a href="https://twitter.com/share" class="twitter-share-button" data-via="Smittey"></a>
						<div class="fb-share-button" data-href="http://smittey.co.uk//anybody-on//" data-layout="button" data-mobile-iframe="true"></div>
						<div class="g-plus" data-action="share" data-annotation="none"></div>
					</div>
				</span>
			</div>
		
			<div style="clear: both;"></div>

			<div class="divider"></div>
							
			<div class="page-navigation">
				
					<a class="prev" href="/datarize-my-life/">&laquo; Datarize My Life</a>
				
				
					<a class="next" href="/silicon-milkroundabout-11-round-up/">Silicon Milkroundabout 11 Round-up &raquo;</a>
				
				<div style="clear: both;"></div>
			</div>	

			<div id="comments">
				<div id="disqus_thread"></div>
			</div>
		</div>
	</div>
</div>



<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<script id="dsq-count-scr" src="//smittey.disqus.com/count.js" async></script>

 
	<ul id="links">
		<li><a href="https://www.linkedin.com/in/smittey" class="li">Linked In</a></li>
		<li><a href="http://stackoverflow.com/users/1295906/smittey" class="so">Stack Overflow</a></li>
		<li><a href="https://twitter.com/smittey" class="tw">Twitter</a></li>
		<li><a href="http://github.com/Smittey" class="gh">Github</a></li>
	</ul>

</body>
</html>